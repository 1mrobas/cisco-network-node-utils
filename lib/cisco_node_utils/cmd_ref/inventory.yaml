# inventory
---
_template:
  get_command: 'show inventory'
  cli_ios_xr:
    test_get_command: 'show inventory'
  cli_nexus:
    test_get_command: 'show inventory | no-more'

all:
  multiple: true
  cli_nexus:
    get_context: ["TABLE_inv"]
    get_value: "ROW_inv"

chassis:
  cli_nexus:
    get_context: ["TABLE_inv", "ROW_inv"]
    get_value: {'name': '"Chassis"'}

inventory:
  # TODO: clean this up
  /N7K/:
    test_get_value: [
    '/.*\nNAME: "(.+)",\s+DESCR: "(.+)"\s+\nPID: (\S+)\s+,\s+VID: (.+) ,\s+SN: (.+)\s+\n/',
    '/.*NAME: "(.+)",\s+DESCR: "(.+)"\s+PID: (\S+)\s+,\s+VID: (.+) ,\s+SN: (.+)\s+\n/'
    ]
  /N9K/:
    test_get_value: [
    '/.*\nNAME: "(.+)",\s+DESCR: "(.+)"\s+\nPID: (\S+)\s+,\s+VID: (.+) ,\s+SN: (.+)\s+\n/',
    '/.*NAME: "(.+)",\s+DESCR: "(.+)"\s+PID: (\S+)\s+,\s+VID: (.+) ,\s+SN: (.+)\s+\n/'
    ]
  else:
    test_get_value: [
    '/.*\nNAME: "(.+)",\s+DESCR: "(.+)"\nPID: (\S+)\s+, VID: (.+) , SN: (.+)\n/',
    '/.*\nNAME: "(.+)",\s+DESCR: "(.+)"\nPID: (\S+)\s+, VID: (.+) , SN: (.+)\n/'
    ]

productid:
  cli_ios_xr:
    get_value: '/"Rack 0".*\n.*PID: ([^ ,]+)/'
  cli_nexus:
    get_context: ["TABLE_inv", "ROW_inv", 0]
    get_value: "productid"

serialnum:
  cli_ios_xr:
    get_value: '/"Rack 0".*\n.*SN: ([^ ,]+)/'
  cli_nexus:
    get_context: ["TABLE_inv", "ROW_inv", 0]
    get_value: "serialnum"

versionid:
  cli_ios_xr:
    get_value: '/"Rack 0".*\n.*VID: ([^ ,]+)/'
  cli_nexus:
    get_context: ["TABLE_inv", "ROW_inv", 0]
    get_value: "vendorid"
