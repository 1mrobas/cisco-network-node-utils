# vxlan_vtep_vni
---
_template:
  get_command: "show running-config interface all | section 'interface nve'"
  get_context:
    - '/^interface <name>$/i'
    - '/^member vni <vni>?$/'
  set_context:
    - 'interface <name>'
    - 'member vni <vni>'

all_vnis:
  multiple:
  get_value: '/^member vni (\d+|\d+-\d+)$/'

ingress_replication:
  kind: string
  get_value: '/^ingress-replication protocol (\S+)$/'
  set_value: '<state> ingress-replication protocol <protocol>'
  default_value: ''

multicast_group:
  get_value: '/^mcast-group (\S+)\s?(\S+)?$/'
  set_value: '<state> mcast-group <ip_start> <ip_end>'
  default_value: ''

peer_list:
  multiple:
  get_context:
    - '/^interface <name>$/i'
    - '/^member vni <vni>?$/'
    - '/^ingress-replication protocol static$/'
  set_context:
    - 'interface <name>'
    - 'member vni <vni>'
    - 'ingress-replication protocol static'
  get_value: '/^peer-ip (\S+)$/'
  set_value: '<state> peer-ip <peer>'
  default_value: []

suppress_arp:
  kind: boolean
  get_value: '/^suppress-arp$/'
  set_value: '<state> suppress-arp'
  default_value: false
