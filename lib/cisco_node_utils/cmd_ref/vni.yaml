# vni
---
all_vnis:
  get_command: "show vni"
  get_value: '/^(\d+)\s/'

bridge_domain:
  get_command: "show vni"
  get_value: [ '/^%d\s+\S+\s+(\d+)/' ]
  set_value: ["bridge-domain %d", "%s member vni %d", "end"]
  default_value: ~

bridge_domain_activate:
  set_value: ["%s system bridge-domain add %d", "end"]

create:
  set_value: ["vni %s" , "end"]

destroy:
  set_value: "no vni %s"

encap_dot1q:
  set_value: ["encapsulation profile vni %s", "%s dot1q %s vni %s", "end"]
  default_value: ~

feature:
  get_command: "show feature"
  get_value: '/^vni\s+\d+\s+(\S+)/'
  set_value: "%s feature vni"

feature_n9k:
  get_command: " show running | i ^feature"
  get_value: '/^feature vn-segment-vlan-based$/'
  set_value: "<state> feature vn-segment-vlan-based"

feature_nv_overlay:
  get_command: " show running | i ^feature"
  get_value: '/^feature nv overlay$/'
  set_value: "<state> feature nv overlay"

mapped_vlan:
  get_command: 'show running vlan'
  get_value: ['/^vlan <vlan>$/', '/^vn-segment (\d+)$/']
  set_value: ['vlan <vlan>', '<state> vn-segment <vni>']
  default_value: ""

shutdown:
  get_command: "show vni"
  get_value: '/^%d\s+(\S+)/'
  set_value: ["vni %d", "%s shutdown", "end"]
  default_value: false
