# vrf
---
all_vrfs:
  multiple: true
  get_command: "show running | section 'vrf context'"
  get_value: '/^vrf context (.*)/'

create:
  set_value:  "vrf context <vrf>"

description:
  kind: string
  get_command: "show running | section 'vrf context'"
  context:
    - "vrf context <vrf>"
  get_value: '/^description (.*)/'
  set_value: "<state> description <desc>"
  default_value: ""

destroy:
  set_value: "no vrf context <vrf>"

feature_vn_segment_vlan_based:
  _exclude:
    - /N7K/  # Support for multi-tenancy full only
  kind: boolean
  default_value: false
  nexus:
    get_command: 'show running section feature'
    get_value: '/^feature vn-segment-vlan-based$/'
    set_value: 'feature vn-segment-vlan-based'

feature_vni:
  _exclude: [/N3K/, /N9K/]   # Support for multi-tenancy lite only
  kind: boolean
  default_value: false
  nexus:
    get_command: 'show running section feature'
    get_value: '/^feature vni$/'
    set_value: 'feature vni'

shutdown:
  kind: boolean
  get_command: "show running | section 'vrf context'"
  context: ["vrf context <vrf>"]
  get_value: '/^shutdown$/'
  set_value: "<state> shutdown"
  default_value: false

vni:
  _exclude:
    - /N3/   # N3: Support Unknown
  kind: int
  get_command: "show running | section 'vrf context'"
  context: ["vrf context <vrf>"]
  get_value: '/^vni (\d+)$/'
  set_value: "<state> vni <id>"
  default_value: false
